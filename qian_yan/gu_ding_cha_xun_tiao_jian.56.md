## 固定查询条件

### ****6.3.1、概述**** {#6-3-1}

通过浏览框的固定查询条件，可以浏览框选择内容时，按条件显示指定的数据。

### ****6.3.2、应用场景说明**** {#6-3-2}

当浏览框选择数据时，需要按条件显示数据，如创建图书借阅记录时，选择图书时只只需要显示可借阅的时，则可以设置选择图书对应的浏览框设置固定条件时列表中只显示状态为可借阅的图书。如下图。

**![E:\重要文件备份\ecology正式系统知识树图片(余海群提供)\20042\images\6445](../assets/ezhong_yao_wen_jian_bei_4efd5c_ecology_zheng_shi_xi_tong_zhi_shi_shu_tu_724728_yu_hai_qun_ti_4f9b295c_2.png)**

### ****6.3.3、功能说明**** {#6-3-3}

1、通过在【后台应用中心】→【建模引擎】→【浏览框】在对应的浏览框的基础tab页设置固定查询条件。如下图。

![E:\重要文件备份\ecology正式系统知识树图片(余海群提供)\20042\images\6446](../assets/ezhong_yao_wen_jian_bei_4efd5c_ecology_zheng_shi_xi_tong_zhi_shi_shu_tu_724728_yu_hai_qun_ti_4f9b295c_2.png)

说明：

1）sql：通过编写sql语句写浏览框的固定查询条件。表单主表表名的别名为t1，查询条件的格式为: t1.a = &#039;1&#039; and t1.b = &#039;3&#039; and t1.c like &#039;%22%&#039;。

2）java：通过编写java代码返回固定查询条件，选择java后会显示编写java文件的图标，在对应的java文件中编写java代码，也可以通过点击X删除当前的java代码文件。

2、设置浏览框固定查询条件后，在前台对应浏览框选择图书时，列表中数据会按照设置的固定条件进行过滤。如下图。

**![E:\重要文件备份\ecology正式系统知识树图片(余海群提供)\20042\images\6447](../assets/ezhong_yao_wen_jian_bei_4efd5c_ecology_zheng_shi_xi_tong_zhi_shi_shu_tu_724728_yu_hai_qun_ti_4f9b295c_2.png)**

### ****6.3.4、实施注意**** {#6-3-4}

1、在写固定查询条件时，要按照参考数据库中存的值写，如选择框是0、1、2…等，浏览框是对应的id。

2、固定查询条件支持变量参数如当前用户当前日期等 具体如下//  当前操作者 $UserId$//  当前操作者部门$DepartmentId$//  当前操作者部门（包含下级部门）$AllDepartmentId$//  当前操作者分部$SubcompanyId$//  当前操作者分部（包含下级分部）$AllSubcompanyId$//  当前日期$date$

3、支持自定义单选和自定义多选浏览框。