## 虚拟表单

### ****3.6.1、概述**** {#3-6-1}

虚拟表单是指引用本地数据库中的系统表或者视图，再或者是引用外部数据源中的表和视图创建的表单。此功能的作用是我们可以将我们外部数据源的表单创建虚拟表单之后 挂在模块上可以利用建模引擎功能 对外部数据源的数据 进行增删改查。 我们提供了代码接口 可以实现对虚拟表单中的数据控制权限。

### ****3.6.2、应用场景说明**** {#3-6-2}

pm系统是一套管理项目的系统，目前需求是需要将此系统中的项目卡片的数据在oa系统中展现 并且需要实现在oa系统有权限的人员可以增加，编辑或者删除项目卡片的数据。

利用我们系统中的表单建模功能实现上述需求的效果如下图

![E:\重要文件备份\ecology正式系统知识树图片(余海群提供)\20042\images\1091146](../assets/ezhong_yao_wen_jian_bei_4efd5c_ecology_zheng_shi_xi_tong_zhi_shi_shu_tu_724728_yu_hai_qun_ti_4f9b295c_2.png)

### ****3.6.3、功能说明**** {#3-6-3}

利用我们的虚拟表单功能要实现以上需求的配置步骤如下

1、在系统【后端应用中心】→【建模引擎】---&gt;点击某个应用然后 点击表单tab页 页面如下图

![E:\重要文件备份\ecology正式系统知识树图片(余海群提供)\20042\images\1092191](../assets/ezhong_yao_wen_jian_bei_4efd5c_ecology_zheng_shi_xi_tong_zhi_shi_shu_tu_724728_yu_hai_qun_ti_4f9b295c_2.png)

![E:\重要文件备份\ecology正式系统知识树图片(余海群提供)\20042\images\1091507](../assets/ezhong_yao_wen_jian_bei_4efd5c_ecology_zheng_shi_xi_tong_zhi_shi_shu_tu_724728_yu_hai_qun_ti_4f9b295c_2.png)

 说明：

表（视图）名：是根据数据源带出的表 通过后面的输入框搜索出需要的表名。

主键字段：选择该表中那列作为主键字段。后面必须选择主键生成策略

1、32位ID(UUID)：表示插入到此表中的主键字段的值是随机生成的32位id。

2、主键自动增长：表示插入到此表中的主键字段的值是自动增加的值。

3、自定义主键策略：提供了代码接口用户可以根据实际需求编写规则。

字段列表：默认是显示此表单（视图）中所有的字段 用户可以根据实际需求勾选需要显示的字段

2、建立完表单之后 点击字段如下图 设置虚拟表单的字段类型

![E:\重要文件备份\ecology正式系统知识树图片(余海群提供)\20042\images\1091538](../assets/ezhong_yao_wen_jian_bei_4efd5c_ecology_zheng_shi_xi_tong_zhi_shi_shu_tu_724728_yu_hai_qun_ti_4f9b295c_2.png)

3、虚拟表单建立完之后 可以用此表单挂模块显示的效果如下图

![E:\重要文件备份\ecology正式系统知识树图片(余海群提供)\20042\images\1091595](../assets/ezhong_yao_wen_jian_bei_4efd5c_ecology_zheng_shi_xi_tong_zhi_shi_shu_tu_724728_yu_hai_qun_ti_4f9b295c_2.png)

4、用虚拟表单可以挂查询 后台配置如下图

 ![E:\重要文件备份\ecology正式系统知识树图片(余海群提供)\20042\images\1092194](../assets/ezhong_yao_wen_jian_bei_4efd5c_ecology_zheng_shi_xi_tong_zhi_shi_shu_tu_724728_yu_hai_qun_ti_4f9b295c_2.png)

查询前端的效果 如【二、应用场景说明】中的截图。

### ****3.6.4、实施注意**** {#3-6-4}

1、虚拟表单可以配置浏览框 实现表与外部数据源的数据交互。

2、虚拟表单关联的浏览框 主字段取的值为虚拟表单的主键字段的值。我主键字段选择的是id 那么就是id的值

主键字段选择是其他 那么主字段的值就是取其他字段的值。

3、虚拟表单挂模块 默认所有的数据没有编辑和删除权限 如果需要则通过模块中的权限规则中定义。

如果比较复杂的权限规则 我们也提供了java接口。

1.  查询