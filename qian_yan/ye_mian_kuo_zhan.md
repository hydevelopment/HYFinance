## 页面扩展

### ****2.12.1、概述**** {#2-12-1}

通过页面扩展功能可以自定义添加或者修改右键按钮或者tab页等页面扩展操作信息，丰富前台页面功能。

### ****2.12.2、应用场景说明**** {#2-12-2}

通过添加页面扩展，可以通过在当前页面的一些自定义的右键按钮或者tab页等页面扩展对相关联的模块进行操作。

例如想要在查看图书类别相关的图书信息列表或者新建相关的图书信息时，则可以在图书类别模块设置相关页面扩展。如下图。

![E:\重要文件备份\ecology正式系统知识树图片(余海群提供)\20042\images\1089859](../assets/ezhong_yao_wen_jian_bei_4efd5c_ecology_zheng_shi_xi_tong_zhi_shi_shu_tu_724728_yu_hai_qun_ti_4f9b295c_2.png)

### ****2.12.3、功能说明**** {#2-12-3}

1、通过在【后台应用中心】→【建模引擎】→【模块】在对应的模块的页面扩展页面，可以添加或者修改页面扩展操作信息。如下图。

![E:\重要文件备份\ecology正式系统知识树图片(余海群提供)\20042\images\1089822](../assets/ezhong_yao_wen_jian_bei_4efd5c_ecology_zheng_shi_xi_tong_zhi_shi_shu_tu_724728_yu_hai_qun_ti_4f9b295c_2.png)

说明：

1）列表中会显示所有默认和自定义的页面扩展项。

2）右键-新建：可以创建新的页面扩展项。

3）通过点击扩展名称链接可以进入页面扩展项的详细设置页面。

2、在页面扩展信息页面设置相关的内容，如下图。

![E:\重要文件备份\ecology正式系统知识树图片(余海群提供)\20042\images\1089823](../assets/ezhong_yao_wen_jian_bei_4efd5c_ecology_zheng_shi_xi_tong_zhi_shi_shu_tu_724728_yu_hai_qun_ti_4f9b295c_2.png)

说明：

1）名称：显示页面扩展的名称，可以修改。

2）扩展类型：显示页面扩展的类型，默认或者用户自定义。

3）扩展用途：可以选择卡片页面、查询列表（批量操作）、卡片页面和查询列表。

卡片页面：可以设置页面扩展显示在卡片信息页面，可以选择在新建页面、编辑页面、查看页面显示页面扩展。

查询列表（批量操作）：设置在查询列表时，则会在引用该模块的查询列表的批量操作中显示页面扩展项，在批量操作中勾选后会在前台列表中显示对应的页面扩展项。

卡片页面和查询列表：可以设置页面扩展项既显示在对应的卡片页面又显示在查询列表（批量操作）中。

4）显示样式：可以设置页面扩展是tab页还是右键。

Tab页：针对卡片的编辑、查看页面可以设置tab页的形式展示。

鼠标右键：可以设置对应的扩展项在卡片页面或者查询列表中以右键的形式展示。

5）打开方式：当显示样式为鼠标右键时，可以选择设置打开方式。

默认窗口：在默认窗口中打开。

弹出窗口：在弹出窗口中打开。

其他：可以通过在链接目标地址中编写代码设置右键打开方式。

6）链接目标：可以设置页面扩展要链接的目标，通过链接目标来源、选择链接目标、链接目标地址、关联字段来设置，前台通过对应的页面扩展项会跳转到指定的页面。

链接目标来源：设置链接目标的来源是模块、模块查询列表或者手动输入。

选择链接目标：当链接目标来源是模块、模块查询列表时，可以通过选择链接目标进行选择要链接的模块或者模块查询列表，并且会带出链接目标地址。

链接目标地址：显示链接目标地址，当链接目标来源是模块、模块查询列表时，会根据选择的项关联出链接目标地址；链接目标来源是手动输入时，则手动填写要链接目标地址。

关联字段：链接到模块或者模块查询列表时，可以通过关联字段设置显示对应的信息。

7）是否显示：设置页面扩展项是否要显示，勾选为显示，去勾选为隐藏。

8）显示条件：设置页面扩展按照设置的条件进行显示，只有符合条件的页面才会显示对应的页面扩展。

9）描述：设置页面扩展项的描述信息。

10）显示顺序：设置页面扩展项在前台的显示顺序。

11）接口动作：设置页面扩展项对应的接口动作。

是否触发审批工作流：勾选时，操作页面扩展项时会触发数据审批中设置的工作流。

外部接口动作：可以设置要触发的action。

自定义java接口：可以设置页面扩展操作时按照java接口中进行触发。

其他接口动作：主要是DML接口动作，可以通过设置DML对应关系设置页面扩展按照DML设置的进行触发，可以按照DML设置增、删、改表单数据。

3、设置页面扩展后效果如下图。

![E:\重要文件备份\ecology正式系统知识树图片(余海群提供)\20042\images\1089858](../assets/ezhong_yao_wen_jian_bei_4efd5c_ecology_zheng_shi_xi_tong_zhi_shi_shu_tu_724728_yu_hai_qun_ti_4f9b295c_2.png)

### ****2.12.4、实施注意**** {#2-12-4}

1、针对显示样式是tab页类型的，只有编辑卡片和查看卡片设置的才会生效。

2、当设置了编辑卡片页面的tab扩展时，如果卡片页面信息有修改，则tab页显示的内容要页面刷新后才会根据新的值进行关联对应显示。

3、针对查询列表的扩展项，只是会显示在模块对应的查询列表的批量操作列表中增加选项，需要勾选后才会显示。

4、当页面扩展链接目标是模块时，通过卡片的右键按钮会链接到新建模块卡片页面，并且会根据关联字段设置的对应关系将当前卡片的值带到链接目标页面；当扩展项是tab页时，则会根据关联字段对应关系进行查找符合条件有权限的第一条数据，如果不存在符合条件的信息，则会显示新建页面，并且根据关联字段将值带到链接目标页面。

5、通过DML设置接口动作时，只是按照DML设置进行更新数据库表信息，如果有涉及到权限显示相关的，则可能影响数据显示。