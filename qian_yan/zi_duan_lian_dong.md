## 字段联动

### ****2.8.1、概述**** {#2-8-1}

通过字段联动，在填写其中一个字段的信息时，可以将其他表单中相关联的字段的内容赋值到当前卡片信息中，可以省去了相同字段重复填写的麻烦，也保证了数据的一致性。

### ****2.8.2、应用场景说明**** {#2-8-2}

当两个不同表单中存在相同内容的字段时，可以在填写其中一个字段内容后，带出相关联表单中的数据到当前表单对应字段中。

如图书清单、图书信息中都存在图书类别、作者、图书简介信息，当新建图书清单时，从图书信息列表中选择书名时，会将该书相关的图书类别、作者、图书简介信息到图书清单卡片信息中。如下图。

![E:\重要文件备份\ecology正式系统知识树图片(余海群提供)\20042\images\1092449](../assets/ezhong_yao_wen_jian_bei_4efd5c_ecology_zheng_shi_xi_tong_zhi_shi_shu_tu_724728_yu_hai_qun_ti_4f9b295c_2.png)

### ****2.8.3、功能说明**** {#2-8-3}

1、通过在【后台应用中心】→【建模引擎】→【模块】在相应的模块的字段联动tab页添加字段联动设置。如下图。

![E:\重要文件备份\ecology正式系统知识树图片(余海群提供)\20042\images\1395038](../assets/ezhong_yao_wen_jian_bei_4efd5c_ecology_zheng_shi_xi_tong_zhi_shi_shu_tu_724728_yu_hai_qun_ti_4f9b295c_2.png)

说明：

1）启用字段联动：可以设置是否启用字段联动功能，勾选启用，去勾选不启用。

2）联动设置：可以通过添加和删除图标添加删除联动设置。

3）字段联动设置：

添加触发设置：可以添加多个触发设置。

触发名称：填写出字段联动设置的触发名称以识别字段联动设置。

触发字段：选择要触发字段联动的字段，可选主表字段或者明细表字段。

数据源：可以选择外部数据源。

引用数据库表名：选择字段联动设置要引用数据的数据库表，选择表单后会自动带出表名。

表之间关联条件：当设置了多个引用的数据表时，可以在此处设置表之间关联条件。

取值设置：设置字段联动模块表与引用表之间的取值设置关系，设置当前模块字段与引用表之间的条件关系相关字段。

赋值设置：设置字段联动模块表与引用表之间的赋值设置关系，设置当前模块字段与引用表字段的对应关系。

2、设置字段联动后，前台新建、编辑卡片数据时，显示效果如下图。

![E:\重要文件备份\ecology正式系统知识树图片(余海群提供)\20042\images\1092478](../assets/ezhong_yao_wen_jian_bei_4efd5c_ecology_zheng_shi_xi_tong_zhi_shi_shu_tu_724728_yu_hai_qun_ti_4f9b295c_2.png)

### ****2.8.4、实施注意**** {#2-8-4}

1、字段联动支持字段类型有：

触发字段：触发字段支持：单文本，整数，选择框，浏览框（单浏览），其中选择框在参数设置时是通过选择框后台数据库保存的值0、1、2......对应的。

赋值字段：赋值字段支持的字段类型：单文本，多文本（非html），浏览框(包含自定义单选、自定义多选），选择框，整数，浮点数，金额千分位。

2、设置赋值字段时，模块字段和引用数据库表对应字段类型要保持一致，否则可能出现找不到值或者赋值不成功的情况。

3、表之间关联条件设置时，存在多个条件时，条件间需要加and。

4、触发字段支持主表或明细表字段。

5、引用数据库表可以为主表、明细表或者外部数据源的表单，应用外部数据源的表单时，直接填写表名。